<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 07. 기초 통계분석</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
        .slide {
            display: none;
        }
        .slide.active {
            display: block;
        }
        code {
            background-color: #1e293b; /* Dark background for code */
            color: #e2e8f0; /* Light text for code */
            padding: 0.2rem 0.5rem;
            border-radius: 0.375rem;
            font-size: 0.9em;
            font-family: 'D2Coding', 'Courier New', monospace;
        }
        pre {
            background-color: #1e293b;
            color: #e2e8f0;
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            margin-top: 0.5rem;
            margin-bottom: 0.5rem;
        }
        pre code {
            background-color: transparent;
            padding: 0;
            border-radius: 0;
        }
        .slide-content {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .list-disc li {
            margin-bottom: 0.5rem;
        }
        .output-box {
            margin-top: 0.5rem;
            border: 1px solid #90cdf4; /* A more visible blue border */
            border-radius: 0.5rem;
            padding: 0.75rem;
            background-color: #ebf8ff; /* Light blue background */
        }
        .output-box pre {
            background-color: transparent; /* Use parent background */
            color: #2a4365; /* A dark blue text color for contrast */
            padding: 0;
            font-size: 0.8rem;
            line-height: 1.4;
        }
        .output-box pre code {
            color: #2a4365; /* Make sure code inside has the same dark blue color */
            background-color: transparent;
            padding: 0;
        }
    </style>
</head>
<body class="bg-slate-100 flex flex-col items-center justify-center min-h-screen p-4">

    <div class="w-full max-w-4xl bg-white rounded-2xl shadow-2xl overflow-hidden">
        <!-- Presentation Slides Container -->
        <div id="presentation-container" class="relative p-8 md:p-12 min-h-[550px] flex items-center">
            
            <!-- Slide 1: Title -->
            <div id="slide-1" class="slide active w-full">
                <div class="slide-content text-center">
                    <h1 class="text-4xl md:text-5xl font-bold text-slate-800 mb-4">Chapter 07</h1>
                    <p class="text-2xl md:text-3xl text-blue-600 font-semibold">기초 통계분석</p>
                    <div class="mt-8 w-24 h-1.5 bg-blue-500 mx-auto rounded-full"></div>
                </div>
            </div>

            <!-- Slide 2: summarize -->
            <div id="slide-2" class="slide w-full">
                <div class="slide-content">
                    <h2 class="text-2xl font-bold text-slate-800 mb-6 border-l-4 border-blue-500 pl-4">1. summarize</h2>
                    <p class="text-slate-600 mb-4">연속형 변수의 평균, 분산과 같은 요약 통계량(summary statistics)을 계산할 때 이용합니다.</p>
                    <ul class="list-disc pl-5 space-y-3 text-slate-700">
                        <li>표본평균과 표본표준편차 계산:<pre><code>su lived</code></pre>
                            <div class="output-box">
                                <p class="font-semibold text-slate-600 mb-2 text-xs">▶︎ 실행 결과</p>
                                <pre><code> Variable |        Obs        Mean    Std. dev.       Min        Max
----------+---------------------------------------------------------
    lived |        153    19.26797    16.95383          1         84</code></pre>
                            </div>
                        </li>
                        <li>백분위수, 중앙값, 왜도, 첨도까지 표현:<pre><code>su lived, detail</code></pre></li>
                    </ul>
                </div>
            </div>
            
            <!-- Slide 3: summarize와 return list -->
            <div id="slide-3" class="slide w-full">
                <div class="slide-content">
                    <h2 class="text-2xl font-bold text-slate-800 mb-6 border-l-4 border-blue-500 pl-4">summarize: 후속 작업</h2>
                    <p class="text-slate-600 mb-4"><code>summarize</code> 명령어 실행 후 <code>return list</code>를 입력하면, 주요 통계량이 스칼라 형태로 저장된 내용을 확인하고 후속 작업에 이용할 수 있습니다.</p>
                    <p class="font-semibold text-slate-700">예시: lived 변수 표준화</p>
                    <pre><code>su lived
return list
gen lived_s=(lived-r(mean))/r(sd)</code></pre>
                     <div class="output-box">
                        <p class="font-semibold text-slate-600 mb-2 text-xs">▶︎ return list 실행 결과</p>
                        <pre><code>scalars:
                  r(N) = 153
              r(sum_w) = 153
               r(mean) = 19.26797385620915
                r(Var) = 287.4327911571702
                 r(sd) = 16.9538252721154
            r(skewness) = 1.161326880295878
            r(kurtosis) = 3.69377413661148
                 r(sum) = 2948
                 r(min) = 1
                 r(max) = 84</code></pre>
                    </div>
                </div>
            </div>

            <!-- Slide 4: tabstat -->
            <div id="slide-4" class="slide w-full">
                <div class="slide-content">
                    <h2 class="text-2xl font-bold text-slate-800 mb-6 border-l-4 border-blue-500 pl-4">2. tabstat</h2>
                    <p class="text-slate-600 mb-4">사용자가 원하는 통계량 종류를 직접 선택하여 요약 통계량을 표 형태로 보여줍니다.</p>
                     <p class="text-slate-700">예시: 성별에 따른 거주기간의 평균과 표준편차</p>
                     <pre><code>tabstat lived, by(gender) stats(mean sd)</code></pre>
                     <div class="output-box">
                        <p class="font-semibold text-slate-600 mb-2 text-xs">▶︎ 실행 결과</p>
                        <pre><code>Summary for variables: lived
     by categories of: gender

  gender |      mean        sd
---------+--------------------
       0 |  23.51667  19.10829
       1 |  16.55914  14.77334
---------+--------------------
   Total |  19.26797  16.95383
------------------------------</code></pre>
                    </div>
                </div>
            </div>

            <!-- Slide 5: table -->
            <div id="slide-5" class="slide w-full">
                <div class="slide-content">
                    <h2 class="text-2xl font-bold text-slate-800 mb-6 border-l-4 border-blue-500 pl-4">3. table</h2>
                     <p class="text-slate-600 mb-4">범주형 변수(질적 변수)와 관련한 요약 통계량을 보여줍니다.</p>
                    <p class="text-slate-700">예시: 성별과 자녀유무에 따른 평균 거주기간</p>
                    <pre><code>table gender kids, contents(mean lived)</code></pre>
                    <div class="output-box">
                        <p class="font-semibold text-slate-600 mb-2 text-xs">▶︎ 실행 결과</p>
<pre><code>---------------------------------------
          |         kids                 
   gender |         0           1        
----------+------------------------------
        0 | 25.105263   20.727273        
        1 | 18.019608   14.714286        
---------------------------------------</code></pre>
                    </div>
                </div>
            </div>

            <!-- Slide 6: tabulate -->
            <div id="slide-6" class="slide w-full">
                <div class="slide-content">
                    <h2 class="text-2xl font-bold text-slate-800 mb-6 border-l-4 border-blue-500 pl-4">4. tabulate</h2>
                    <p class="text-slate-600 mb-4">범주형 변수의 빈도표를 만드는 가장 기본적인 명령어입니다.</p>
                    <p class="text-slate-700">예시: 성별과 자녀유무 교차표</p>
                    <pre><code>tab gender kids</code></pre>
                    <div class="output-box">
                        <p class="font-semibold text-slate-600 mb-2 text-xs">▶︎ 실행 결과</p>
<pre><code>           |         kids
    gender |         0          1 |     Total
-----------+----------------------+----------
         0 |        38         22 |        60 
         1 |        51         42 |        93 
-----------+----------------------+----------
     Total |        89         64 |       153 </code></pre>
                    </div>
                </div>
            </div>
            
            <!-- Slide 7: tab1 & tab2 -->
            <div id="slide-7" class="slide w-full">
                <div class="slide-content">
                    <h2 class="text-2xl font-bold text-slate-800 mb-6 border-l-4 border-blue-500 pl-4">tab1 & tab2</h2>
                    <p class="text-slate-600 mb-4">여러 변수의 빈도표를 한 번에 생성하는 명령어입니다.</p>
                    <ul class="list-disc pl-5 space-y-3 text-slate-700">
                        <li><strong>tab1 (일원 빈도표 전문)</strong><pre><code>tab1 gender kids meetings</code></pre></li>
                    </ul>
                     <div class="output-box">
                        <p class="font-semibold text-slate-600 mb-2 text-xs">▶︎ tab1 실행 결과 (일부)</p>
<pre><code>-> tabulation of gender
     gender |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |         60       39.22       39.22
          1 |         93       60.78      100.00
------------+-----------------------------------
      Total |        153      100.00

(kids, meetings 결과는 생략)</code></pre>
                    </div>
                </div>
            </div>

            <!-- Slide 8: chi-square test -->
            <div id="slide-8" class="slide w-full">
                <div class="slide-content">
                    <h2 class="text-2xl font-bold text-slate-800 mb-6 border-l-4 border-blue-500 pl-4">tab을 이용한 chi-square 검정</h2>
                    <p class="text-slate-600 mb-4">두 범주형 변수 간의 독립성을 검정합니다.</p>
                    <pre><code>tab gender meetings, exp chi2</code></pre>
                     <div class="output-box">
                        <p class="font-semibold text-slate-600 mb-2 text-xs">▶︎ 실행 결과</p>
<pre><code>           |        meetings
    gender |         0          1 |     Total
-----------+----------------------+----------
         0 |        42         18 |        60 
           |     41.57      18.43 |     60.00 
-----------+----------------------+----------
         1 |        64         29 |        93 
           |     64.43      28.57 |     93.00 
-----------+----------------------+----------
     Total |       106         47 |       153 
           |    106.00      47.00 |    153.00 

   Pearson chi2(1) =   0.0385   Pr = 0.844</code></pre>
                    </div>
                </div>
            </div>
            
            <!-- Slide 9: tabi -->
            <div id="slide-9" class="slide w-full">
                <div class="slide-content">
                    <h2 class="text-2xl font-bold text-slate-800 mb-6 border-l-4 border-blue-500 pl-4">tabi (즉시 계산)</h2>
                    <p class="text-slate-600 mb-4">개별 데이터가 없어도, 요약된 빈도표 값만으로 chi-square 검정이 가능합니다.</p>
                    <pre><code>tabi 42 18 \ 64 29, chi2 expected</code></pre>
                     <div class="output-box">
                        <p class="font-semibold text-slate-600 mb-2 text-xs">▶︎ 실행 결과</p>
<pre><code>           |          col
       row |         1          2 |     Total
-----------+----------------------+----------
         1 |        42         18 |        60 
           |     41.57      18.43 |     60.00 
-----------+----------------------+----------
         2 |        64         29 |        93 
           |     64.43      28.57 |     93.00 
-----------+----------------------+----------
     Total |       106         47 |       153 
           |    106.00      47.00 |    153.00 

Pearson chi2(1) =   0.0385   Pr = 0.844</code></pre>
                    </div>
                </div>
            </div>

            <!-- Slide 10: Confidence Interval -->
            <div id="slide-10" class="slide w-full">
                <div class="slide-content">
                    <h2 class="text-2xl font-bold text-slate-800 mb-6 border-l-4 border-blue-500 pl-4">5. 신뢰구간 추정</h2>
                     <ul class="list-disc pl-5 space-y-4 text-slate-700">
                        <li><strong>ci: 데이터를 직접 이용</strong><pre><code>ci means lived</code></pre>
                            <div class="output-box">
                                <p class="font-semibold text-slate-600 mb-2 text-xs">▶︎ 실행 결과</p>
                                <pre><code> Variable |        Obs        Mean    Std. err.       [95% conf. interval]
----------+---------------------------------------------------------------
    lived |        153    19.26797    1.371842        16.56535    21.97059</code></pre>
                            </div>
                        </li>
                        <li><strong>cii: 요약 통계량을 이용</strong><pre><code>cii 153 19.268 16.954</code></pre>
                             <div class="output-box">
                                <p class="font-semibold text-slate-600 mb-2 text-xs">▶︎ 실행 결과</p>
                                <pre><code> Variable |        Obs        Mean    Std. err.       [95% conf. interval]
----------+---------------------------------------------------------------
          |        153      19.268    1.372138        16.56279    21.97321</code></pre>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Slide 11: t-test intro -->
            <div id="slide-11" class="slide w-full">
                <div class="slide-content">
                    <h2 class="text-2xl font-bold text-slate-800 mb-6 border-l-4 border-blue-500 pl-4">6. 모평균에 대한 t-검정</h2>
                     <p class="text-slate-600 mb-4">한 집단의 평균을 특정 값과 비교하거나, 두 집단의 평균을 비교할 때 사용합니다.</p>
                    <ul class="list-disc pl-5 space-y-2 text-slate-700">
                        <li><strong>One-sample t-test:</strong> 단일 표본 평균 비교</li>
                        <li><strong>Paired t-test:</strong> 대응 표본 평균 비교</li>
                        <li><strong>Two-sample t-test:</strong> 독립 표본 평균 비교</li>
                    </ul>
                </div>
            </div>
            
            <!-- Slide 12: t-test examples 1 -->
            <div id="slide-12" class="slide w-full">
                <div class="slide-content">
                    <h2 class="text-2xl font-bold text-slate-800 mb-6 border-l-4 border-blue-500 pl-4">t-검정 예제 (1)</h2>
                    <div class="space-y-6">
                        <div>
                            <h3 class="font-semibold text-slate-700">단일표본 t-검정 (One-sample)</h3>
                            <pre><code>ttest inc_male == 3000</code></pre>
                            <div class="output-box">
                                <p class="font-semibold text-slate-600 mb-2 text-xs">▶︎ 실행 결과</p>
<pre><code>One-sample t test
------------------------------------------------------------------------------
Variable |     Obs        Mean    Std. err.   Std. dev.   [95% conf. interval]
---------+--------------------------------------------------------------------
inc_male |      74    5530.135     572.2393    4920.473     4388.895    6671.376
------------------------------------------------------------------------------
Ho: mean = 3000                               t =   4.4211
Ha: mean < 3000         Ha: mean != 3000          Ha: mean > 3000
Pr(T < t) = 0.9999     Pr(|T| > |t|) = 0.0000     Pr(T > t) = 0.0000</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 13: t-test examples 2 -->
            <div id="slide-13" class="slide w-full">
                <div class="slide-content">
                    <h2 class="text-2xl font-bold text-slate-800 mb-6 border-l-4 border-blue-500 pl-4">t-검정 예제 (2)</h2>
                    <div>
                        <h3 class="font-semibold text-slate-700">대응표본 t-검정 (Paired)</h3>
                        <pre><code>ttest husband == wife</code></pre>
                        <div class="output-box">
                            <p class="font-semibold text-slate-600 mb-2 text-xs">▶︎ 실행 결과</p>
<pre><code>Paired t test
------------------------------------------------------------------------------
Variable |     Obs        Mean    Std. err.   Std. dev.   [95% conf. interval]
---------+--------------------------------------------------------------------
 husband |      20       28.25     1.956747     8.75076     24.15286    32.34714
    wife |      20        27.5     1.862424    8.328966     23.60627    31.39373
---------+--------------------------------------------------------------------
    diff |      20         .75      .739819    3.308679    -.8011211    2.301121
------------------------------------------------------------------------------
Ho: mean(diff) = 0                            t =   1.0138
Ha: diff < 0            Ha: diff != 0             Ha: diff > 0
Pr(T < t) = 0.8384    Pr(|T| > |t|) = 0.3232     Pr(T > t) = 0.1616</code></pre>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Slide 14: t-test examples 3 -->
            <div id="slide-14" class="slide w-full">
                <div class="slide-content">
                    <h2 class="text-2xl font-bold text-slate-800 mb-6 border-l-4 border-blue-500 pl-4">t-검정 예제 (3)</h2>
                    <h3 class="font-semibold text-slate-700">독립표본 t-검정 (Wide-type, 이분산 가정)</h3>
                    <pre><code>ttest inc_female == inc_male, unpaired unequal</code></pre>
                    <div class="output-box">
                        <p class="font-semibold text-slate-600 mb-2 text-xs">▶︎ 실행 결과</p>
<pre><code>Two-sample t test with unequal variances
------------------------------------------------------------------------------
   Group |     Obs        Mean    Std. err.   Std. dev.   [95% conf. interval]
---------+--------------------------------------------------------------------
inc_fema |      74    2671.014     258.9103    2227.098     2155.071    3186.956
inc_male |      74    5530.135     572.2393    4920.473     4388.895    6671.376
---------+--------------------------------------------------------------------
combined |     148    4100.574     352.4172    4280.932     3404.298    4796.851
---------+--------------------------------------------------------------------
    diff |           -2859.122     628.1884               -4107.828   -1610.416
------------------------------------------------------------------------------
Ho: mean(inc_female) - mean(inc_male) = diff = 0
Ha: diff < 0            Ha: diff != 0             Ha: diff > 0
Pr(T < t) = 0.0000    Pr(|T| > |t|) = 0.0000     Pr(T > t) = 1.0000</code></pre>
                    </div>
                </div>
            </div>

             <!-- Slide 15: t-test examples 4 -->
            <div id="slide-15" class="slide w-full">
                <div class="slide-content">
                    <h2 class="text-2xl font-bold text-slate-800 mb-6 border-l-4 border-blue-500 pl-4">t-검정 (요약통계량 이용)</h2>
                     <p class="text-slate-600 mb-4">데이터 원자료 없이, 요약된 통계량(평균, 표준편차, 관측치 수)만으로도 t-검정을 수행할 수 있습니다. 이 기능은 메뉴를 통해 접근하며, 별도의 명령어 결과창보다는 값을 입력하는 대화상자가 나타납니다.</p>
                     <ul class="list-disc pl-5 space-y-3 text-slate-700">
                         <li><strong>One-sample mean-comparison calculator</strong></li>
                         <li><strong>Two-sample mean-comparison calculator</strong></li>
                     </ul>
                </div>
            </div>

        </div>

        <!-- Navigation -->
        <div class="bg-slate-50 border-t border-slate-200 p-4 flex justify-between items-center">
            <button id="prev-btn" class="px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" /></svg>
            </button>
            <div id="slide-counter" class="text-sm text-slate-500"></div>
            <button id="next-btn" class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" /></svg>
            </button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const slides = document.querySelectorAll('.slide');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const slideCounter = document.getElementById('slide-counter');
            let currentSlide = 0;
            const totalSlides = slides.length;

            function showSlide(index) {
                slides.forEach((slide, i) => {
                    slide.classList.toggle('active', i === index);
                });
                updateNavigation();
            }

            function updateNavigation() {
                currentSlide = Array.from(slides).findIndex(slide => slide.classList.contains('active'));
                slideCounter.textContent = `${currentSlide + 1} / ${totalSlides}`;
                prevBtn.disabled = currentSlide === 0;
                nextBtn.disabled = currentSlide === totalSlides - 1;
            }

            prevBtn.addEventListener('click', () => {
                if (currentSlide > 0) {
                    currentSlide--;
                    showSlide(currentSlide);
                }
            });

            nextBtn.addEventListener('click', () => {
                if (currentSlide < totalSlides - 1) {
                    currentSlide++;
                    showSlide(currentSlide);
                }
            });
            
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowRight' || e.key === ' ') {
                    e.preventDefault();
                    nextBtn.click();
                } else if (e.key === 'ArrowLeft') {
                    e.preventDefault();
                    prevBtn.click();
                }
            });

            showSlide(0);
        });
    </script>
</body>
</html>

