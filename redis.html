<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Redis: ì¹œì ˆí•œ í•´ì„¤ì„œ</title>
    <!-- í°íŠ¸ ë¡œë“œ: Pretendard (ê¹”ë”í•œ ê³ ë”•), JetBrains Mono (ì½”ë“œ) -->
    <link rel="stylesheet" as="style" crossorigin
        href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.8/dist/web/static/pretendard.css" />
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <!-- ì•„ì´ì½˜ -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <style>
        :root {
            /* ë°ê³  í™”ì‚¬í•œ ì»¬ëŸ¬ íŒ”ë ˆíŠ¸ */
            --bg-color: #f8fafc;
            /* ì•„ì£¼ ì—°í•œ íšŒìƒ‰ ë°°ê²½ */
            --sidebar-bg: #ffffff;
            /* í°ìƒ‰ ì‚¬ì´ë“œë°” */
            --card-bg: #ffffff;
            /* í°ìƒ‰ ì¹´ë“œ ë°°ê²½ */

            --text-main: #334155;
            /* ì§„í•œ íšŒìƒ‰ í…ìŠ¤íŠ¸ */
            --text-sub: #64748b;
            /* ì—°í•œ íšŒìƒ‰ í…ìŠ¤íŠ¸ */

            --primary: #f43f5e;
            /* ë¡œì¦ˆ ë ˆë“œ (Redis ëŠë‚Œ) */
            --primary-light: #fff1f2;
            /* ì—°í•œ ë¡œì¦ˆ ë°°ê²½ */
            --accent: #6366f1;
            /* ì¸ë””ê³  (í¬ì¸íŠ¸) */
            --accent-light: #e0e7ff;
            /* ì—°í•œ ì¸ë””ê³  ë°°ê²½ */

            --code-bg: #f1f5f9;
            /* ì½”ë“œ ë°°ê²½ (ë°ì€ íšŒìƒ‰) */
            --border: #e2e8f0;
            /* ì—°í•œ í…Œë‘ë¦¬ */

            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.05);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            line-height: 1.75;
            display: flex;
        }

        /* --- ë ˆì´ì•„ì›ƒ --- */
        .sidebar {
            width: 260px;
            height: 100vh;
            background: var(--sidebar-bg);
            border-right: 1px solid var(--border);
            position: fixed;
            top: 0;
            left: 0;
            padding: 30px 20px;
            overflow-y: auto;
            z-index: 100;
            box-shadow: var(--shadow-sm);
        }

        .main-content {
            margin-left: 260px;
            width: calc(100% - 260px);
            padding: 60px 80px;
            max-width: 1200px;
        }

        /* --- ì‚¬ì´ë“œë°” --- */
        .logo {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 40px;
            letter-spacing: -0.5px;
        }

        .toc ul {
            list-style: none;
        }

        .toc li {
            margin-bottom: 8px;
        }

        .toc a {
            color: var(--text-sub);
            text-decoration: none;
            font-size: 0.95rem;
            font-weight: 500;
            display: block;
            padding: 10px 16px;
            border-radius: 12px;
            transition: all 0.2s ease;
        }

        .toc a:hover {
            background-color: var(--bg-color);
            color: var(--text-main);
        }

        .toc a.active {
            background-color: var(--primary-light);
            color: var(--primary);
            font-weight: 700;
        }

        /* --- ë³¸ë¬¸ íƒ€ì´í¬ê·¸ë˜í”¼ --- */
        h1 {
            font-size: 3.5rem;
            margin-bottom: 24px;
            line-height: 1.2;
            letter-spacing: -1px;
            color: #1e293b;
        }

        h2 {
            font-size: 2rem;
            margin-top: 80px;
            margin-bottom: 30px;
            color: #1e293b;
            font-weight: 800;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        h2::before {
            content: '';
            display: block;
            width: 8px;
            height: 32px;
            background: var(--primary);
            border-radius: 4px;
        }

        h3 {
            font-size: 1.4rem;
            margin-top: 40px;
            margin-bottom: 16px;
            color: #334155;
            font-weight: 700;
        }

        p {
            margin-bottom: 20px;
            color: var(--text-sub);
            font-size: 1.1rem;
        }

        /* --- ì¹´ë“œ & ì‹œê°í™” ë°•ìŠ¤ (ê·¸ë¦¼ ê°™ì€ ìš”ì†Œ) --- */
        .visual-card {
            background: white;
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border);
            text-align: center;
            overflow: hidden;
            position: relative;
        }

        .visual-label {
            font-size: 0.9rem;
            color: var(--text-sub);
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 700;
        }

        /* --- ì—°ê²° ë¦¬ìŠ¤íŠ¸ ì‹œê°í™” --- */
        .ll-diagram {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }

        .ll-node {
            background: white;
            border: 2px solid var(--text-main);
            border-radius: 12px;
            padding: 15px;
            width: 100px;
            position: relative;
            box-shadow: 4px 4px 0px var(--border);
            transition: transform 0.2s;
        }

        .ll-node:hover {
            transform: translateY(-5px);
        }

        .ll-node.highlighted {
            border-color: var(--primary);
            box-shadow: 4px 4px 0px var(--primary-light);
            background: var(--primary-light);
        }

        .ll-section {
            font-size: 0.75rem;
            color: #94a3b8;
            border-bottom: 1px dashed #cbd5e1;
            padding-bottom: 4px;
            margin-bottom: 4px;
        }

        .ll-data {
            font-weight: 800;
            font-size: 1.2rem;
            color: #334155;
        }

        .ll-arrow {
            font-size: 24px;
            color: #cbd5e1;
        }

        /* --- í•´ì‹œë§µ ì‹œê°í™” --- */
        .hash-diagram {
            display: flex;
            justify-content: center;
            gap: 40px;
            flex-wrap: wrap;
        }

        .hash-bucket {
            display: flex;
            flex-direction: column;
            gap: 10px;
            align-items: center;
        }

        .bucket-box {
            width: 60px;
            height: 60px;
            background: var(--bg-color);
            border: 2px solid #cbd5e1;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #94a3b8;
        }

        .bucket-arrow {
            color: var(--primary);
            font-size: 24px;
            transform: rotate(90deg);
        }

        .data-box {
            background: var(--accent-light);
            color: var(--accent);
            padding: 10px 20px;
            border-radius: 30px;
            font-weight: bold;
            box-shadow: var(--shadow-sm);
        }

        /* --- ì½”ë“œ ë¸”ë¡ --- */
        .code-wrapper {
            background: var(--card-bg);
            border-radius: 16px;
            border: 1px solid var(--border);
            margin: 24px 0;
            overflow: hidden;
            box-shadow: var(--shadow-sm);
        }

        .code-header {
            background: #f8fafc;
            padding: 12px 20px;
            border-bottom: 1px solid var(--border);
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        .dot.red {
            background: #fca5a5;
        }

        .dot.yellow {
            background: #fcd34d;
        }

        .dot.green {
            background: #86efac;
        }

        pre {
            background: #ffffff;
            padding: 24px;
            overflow-x: auto;
            margin: 0;
        }

        code {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.95rem;
            line-height: 1.6;
            color: #334155;
        }

        /* ì½”ë“œ í•˜ì´ë¼ì´íŒ… (Light Theme) */
        .k {
            color: #db2777;
            font-weight: bold;
        }

        /* keyword */
        .f {
            color: #2563eb;
        }

        /* function */
        .s {
            color: #16a34a;
        }

        /* string */
        .c {
            color: #94a3b8;
            font-style: italic;
        }

        /* comment */
        .n {
            color: #334155;
        }

        /* number/normal */
        .cls {
            color: #0891b2;
            font-weight: bold;
        }

        /* class */

        /* --- ì„¤ëª… ë°•ìŠ¤ (Explanation) --- */
        .expl-box {
            background: var(--bg-color);
            border-radius: 12px;
            padding: 20px;
            margin-top: -10px;
            margin-bottom: 30px;
            border: 1px dashed #cbd5e1;
        }

        .expl-item {
            display: flex;
            gap: 15px;
            margin-bottom: 12px;
            align-items: flex-start;
        }

        .line-num {
            background: #e2e8f0;
            color: #64748b;
            padding: 2px 8px;
            border-radius: 6px;
            font-family: 'JetBrains Mono';
            font-size: 0.8rem;
            min-width: 60px;
            text-align: center;
        }

        /* --- íŒ ë°•ìŠ¤ --- */
        .tip {
            background: linear-gradient(135deg, #fff1f2 0%, #fff 100%);
            border-left: 5px solid var(--primary);
            padding: 24px;
            border-radius: 0 16px 16px 0;
            margin: 30px 0;
        }

        .tip-title {
            color: var(--primary);
            font-weight: 800;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* --- ë°˜ì‘í˜• --- */
        @media (max-width: 1024px) {
            .sidebar {
                display: none;
            }

            .main-content {
                margin-left: 0;
                width: 100%;
                padding: 40px 20px;
            }

            h1 {
                font-size: 2.5rem;
            }
        }
    </style>
</head>

<body>

    <!-- ì‚¬ì´ë“œë°” -->
    <nav class="sidebar">
        <div class="logo">
            <i class="ph-fill ph-cube" style="color: var(--primary);"></i>
            Mini Redis
        </div>
        <div class="toc">
            <ul>
                <li><a href="#start" class="active">1. ë¯¸ì…˜ ì‹œì‘í•˜ê¸°</a></li>
                <li><a href="#concept">2. ì›ë¦¬ ê·¸ë¦¼ìœ¼ë¡œ ë³´ê¸°</a></li>
                <li><a href="#linkedlist">3. ê¸°ì°¨ë†€ì´ (Linked List)</a></li>
                <li><a href="#hashmap">4. ì‚¬ë¬¼í•¨ (Hash Map)</a></li>
                <li><a href="#heap">5. ì•ŒëŒì‹œê³„ (Min Heap)</a></li>
                <li><a href="#miniredis">6. ì¡°ë¦½í•˜ê¸° (Mini Redis)</a></li>
                <li><a href="#cli">7. ì‹¤í–‰í•˜ê¸° (CLI)</a></li>
            </ul>
        </div>
    </nav>

    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <main class="main-content">

        <!-- ì„¹ì…˜ 1: ì‹œì‘í•˜ê¸° -->
        <section id="start">
            <span style="color: var(--primary); font-weight: 700; letter-spacing: 1px;">STEP 1</span>
            <h1>Mini Redis<br>ë§Œë“¤ê¸° í”„ë¡œì íŠ¸</h1>
            <p>
                ë³µì¡í•œ ì´ë¡ ì€ ì ì‹œ ì ‘ì–´ë‘ì„¸ìš”. ìš°ë¦¬ëŠ” <strong>"ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ìƒì"</strong>ë¥¼ ì§ì ‘ ë§Œë“¤ ê²ë‹ˆë‹¤.<br>
                ì†ë„ê°€ ì—„ì²­ ë¹ ë¥´ê³ (O(1)), ê½‰ ì°¨ë©´ ì•ˆ ì“°ëŠ” ê±¸ ì•Œì•„ì„œ ë²„ë¦¬ëŠ”(LRU) ë˜‘ë˜‘í•œ ìƒìì…ë‹ˆë‹¤.
            </p>
            <div class="tip">
                <div class="tip-title"><i class="ph-fill ph-lightbulb"></i> ì´ ê°€ì´ë“œì˜ íŠ¹ì§•</div>
                <p style="margin:0; font-size: 0.95rem;">
                    1. ë³µì‚¬í•´ì„œ ë°”ë¡œ ì“¸ ìˆ˜ ìˆëŠ” <strong>ì™„ì„±ëœ ì½”ë“œ</strong>ë¥¼ ì œê³µí•©ë‹ˆë‹¤.<br>
                    2. ì½”ë“œê°€ ì™œ ê·¸ë ‡ê²Œ ì‘ì„±ë˜ì—ˆëŠ”ì§€ <strong>ê·¸ë¦¼ê³¼ í•´ì„¤</strong>ë¡œ ë– ë¨¹ì—¬ ë“œë¦½ë‹ˆë‹¤.
                </p>
            </div>
        </section>

        <!-- ì„¹ì…˜ 2: ì›ë¦¬ ì´í•´ -->
        <section id="concept">
            <h2>í•µì‹¬ ì›ë¦¬: LRU ìºì‹œ</h2>
            <p>
                ìš°ë¦¬ì˜ ëª©í‘œëŠ” <strong>"ê°€ì¥ ì˜¤ë«ë™ì•ˆ ì•ˆ ì“´ ë°ì´í„° ë²„ë¦¬ê¸°"</strong>ì…ë‹ˆë‹¤. <br>
                ì´ê±¸ íš¨ìœ¨ì ìœ¼ë¡œ í•˜ë ¤ë©´ ë‘ ê°€ì§€ ë„êµ¬ê°€ í˜ì„ í•©ì³ì•¼ í•©ë‹ˆë‹¤.
            </p>

            <div class="visual-card">
                <div class="visual-label">ë°ì´í„°ê°€ ì €ì¥ë˜ëŠ” êµ¬ì¡°</div>

                <div style="display: flex; align-items: center; justify-content: center; gap: 50px; flex-wrap: wrap;">
                    <!-- í•´ì‹œë§µ ì‹œê°í™” -->
                    <div style="text-align: center;">
                        <h4 style="color: var(--accent); margin-bottom: 15px;">1. ìœ„ì¹˜ ì°¾ê¸° (ì§€ë„)</h4>
                        <div
                            style="background: var(--bg-color); padding: 15px; border-radius: 12px; display: inline-block;">
                            <div style="margin: 5px; font-family: 'JetBrains Mono';">"Apple" â” <span
                                    style="background: var(--primary); color: white; padding: 2px 6px; border-radius: 4px;">Node
                                    A</span></div>
                            <div style="margin: 5px; font-family: 'JetBrains Mono';">"Banana" â” <span
                                    style="background: #94a3b8; color: white; padding: 2px 6px; border-radius: 4px;">Node
                                    B</span></div>
                        </div>
                    </div>

                    <i class="ph-bold ph-plus" style="font-size: 24px; color: #cbd5e1;"></i>

                    <!-- ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ ì‹œê°í™” -->
                    <div style="text-align: center;">
                        <h4 style="color: var(--primary); margin-bottom: 15px;">2. ìˆœì„œ ê¸°ì–µ (ì¤„ì„œê¸°)</h4>
                        <div class="ll-diagram">
                            <div class="ll-node highlighted">
                                <div class="ll-section">Head (ìµœê·¼)</div>
                                <div class="ll-data">A</div>
                            </div>
                            <i class="ph-bold ph-arrow-right ll-arrow"></i>
                            <div class="ll-node">
                                <div class="ll-section">Tail (ì˜¤ë˜ë¨)</div>
                                <div class="ll-data">B</div>
                            </div>
                        </div>
                    </div>
                </div>

                <p style="margin-top: 30px; font-size: 0.95rem; color: var(--text-sub);">
                    ëˆ„ê°€ "Apple"ì„ ì°¾ìœ¼ë©´? <br>
                    1. <strong>ì§€ë„</strong>ì—ì„œ Node A ìœ„ì¹˜ë¥¼ ë°”ë¡œ ì°¾ê³ ,<br>
                    2. <strong>ì¤„ì„œê¸°</strong>ì—ì„œ Node Aë¥¼ ë§¨ ì•(Head)ìœ¼ë¡œ ì˜®ê¹ë‹ˆë‹¤!
                </p>
            </div>
        </section>

        <!-- ì„¹ì…˜ 3: ì—°ê²° ë¦¬ìŠ¤íŠ¸ êµ¬í˜„ -->
        <section id="linkedlist">
            <h2>ì´ì¤‘ ì—°ê²° ë¦¬ìŠ¤íŠ¸ (Doubly Linked List)</h2>
            <p>
                ë°ì´í„°ë“¤ì´ ì†ì— ì†ì„ ì¡ê³  ìˆëŠ” ê¸°ì°¨ ëª¨ì–‘ì…ë‹ˆë‹¤.<br>
                ì¤‘ê°„ì— ìˆëŠ” ì¹œêµ¬ë¥¼ ì™ ë¹¼ê±°ë‚˜, ë§¨ ì•ì— ë¼ì›Œë„£ê¸° ì•„ì£¼ ì¢‹ìŠµë‹ˆë‹¤.
            </p>

            <!-- ì½”ë“œ ë°•ìŠ¤ -->
            <div class="code-wrapper">
                <div class="code-header">
                    <div class="dot red"></div>
                    <div class="dot yellow"></div>
                    <div class="dot green"></div>
                    <span
                        style="margin-left: 10px; font-size: 0.8rem; color: #64748b; font-weight: bold;">doubly_linked_list.py</span>
                </div>
                <pre><code><span class="k">class</span> <span class="cls">Node</span>:
    <span class="c"># ë°ì´í„°ë¥¼ ë‹´ëŠ” ìƒìì…ë‹ˆë‹¤. ì•(prev)ê³¼ ë’¤(next)ë¥¼ ê°€ë¦¬í‚¬ ìˆ˜ ìˆì–´ìš”.</span>
    <span class="k">def</span> <span class="f">__init__</span>(<span class="n">self</span>, <span class="n">data</span>=<span class="k">None</span>):
        <span class="n">self</span>.data = <span class="n">data</span>   <span class="c"># í‚¤ ê°’ì„ ì €ì¥ (LRUì—ì„œëŠ” keyë§Œ ì €ì¥)</span>
        <span class="n">self</span>.prev = <span class="k">None</span>
        <span class="n">self</span>.next = <span class="k">None</span>

<span class="k">class</span> <span class="cls">DoublyLinkedList</span>:
    <span class="k">def</span> <span class="f">__init__</span>(<span class="n">self</span>):
        <span class="c"># ë¨¸ë¦¬(Head)ì™€ ê¼¬ë¦¬(Tail)ë¼ëŠ” ê°€ì§œ ë…¸ë“œë¥¼ ë¯¸ë¦¬ ë§Œë“¤ì–´ë‘¡ë‹ˆë‹¤.</span>
        <span class="n">self</span>._head = <span class="cls">Node</span>()  <span class="c"># ë”ë¯¸ ë…¸ë“œ</span>
        <span class="n">self</span>._tail = <span class="cls">Node</span>()  <span class="c"># ë”ë¯¸ ë…¸ë“œ</span>
        <span class="n">self</span>._head.next = <span class="n">self</span>._tail
        <span class="n">self</span>._tail.prev = <span class="n">self</span>._head
        <span class="n">self</span>._size = <span class="n">0</span>

    <span class="k">def</span> <span class="f">insert_front</span>(<span class="n">self</span>, <span class="n">data</span>):
        <span class="c"># ìƒˆ ë…¸ë“œ ìƒì„± í›„ Head ë°”ë¡œ ë’¤ì— ì‚½ì…, ë…¸ë“œ ë°˜í™˜</span>
        <span class="n">node</span> = <span class="cls">Node</span>(<span class="n">data</span>)
        <span class="n">node</span>.prev = <span class="n">self</span>._head
        <span class="n">node</span>.next = <span class="n">self</span>._head.next
        <span class="n">self</span>._head.next.prev = <span class="n">node</span>
        <span class="n">self</span>._head.next = <span class="n">node</span>
        <span class="n">self</span>._size += <span class="n">1</span>
        <span class="k">return</span> <span class="n">node</span>  <span class="c"># HashMapì— ì €ì¥í•  ë…¸ë“œ ì°¸ì¡° ë°˜í™˜!</span>

    <span class="k">def</span> <span class="f">move_to_front</span>(<span class="n">self</span>, <span class="n">node</span>):
        <span class="c"># ê¸°ì¡´ ìœ„ì¹˜ì—ì„œ ì œê±° í›„ ë§¨ ì•ìœ¼ë¡œ ì´ë™</span>
        <span class="n">self</span>.remove_node(<span class="n">node</span>)
        <span class="n">self</span>._insert_after(<span class="n">self</span>._head, <span class="n">node</span>)

    <span class="k">def</span> <span class="f">get_back_node</span>(<span class="n">self</span>):
        <span class="c"># ê°€ì¥ ì˜¤ë˜ëœ ë…¸ë“œ(Tail ë°”ë¡œ ì•) ë°˜í™˜</span>
        <span class="k">if</span> <span class="n">self</span>._tail.prev == <span class="n">self</span>._head:
            <span class="k">return</span> <span class="k">None</span>
        <span class="k">return</span> <span class="n">self</span>._tail.prev</code></pre>
            </div>

            <div class="expl-box">
                <div class="expl-item">
                    <span class="line-num">Node</span>
                    <span><strong>ë°ì´í„° ìƒì:</strong> ì‹¤ì œ ë°ì´í„°(key, value)ì™€ ì•ë’¤ ì—°ê²° ê³ ë¦¬(prev, next)ë¥¼ ê°€ì§‘ë‹ˆë‹¤.</span>
                </div>
                <div class="expl-item">
                    <span class="line-num">__init__</span>
                    <span><strong>ë”ë¯¸ ë…¸ë“œ ì „ëµ:</strong> Headì™€ Tailì´ë¼ëŠ” 'ê°€ì§œ ë…¸ë“œ'ë¥¼ ì–‘ ëì— ë‘¬ì„œ êµ¬í˜„ì„ í›¨ì”¬ ë‹¨ìˆœí•˜ê²Œ ë§Œë“­ë‹ˆë‹¤. (null ì²´í¬
                        ë¶ˆí•„ìš”)</span>
                </div>
                <div class="expl-item">
                    <span class="line-num">move_to_front</span>
                    <span><strong>í•µì‹¬ ë¡œì§:</strong> "ì¡°íšŒëœ ë°ì´í„°ëŠ” ìµœì‹ ì´ë‹¤"ë¼ëŠ” ê·œì¹™ ë•Œë¬¸ì—, ë°ì´í„°ë¥¼ ì°¾ì„ ë•Œë§ˆë‹¤ ë§¨ ì•ìœ¼ë¡œ ì´ë™ì‹œí‚µë‹ˆë‹¤.</span>
                </div>
            </div>
        </section>

        <!-- ì„¹ì…˜ 4: í•´ì‹œë§µ êµ¬í˜„ -->
        <section id="hashmap">
            <h2>í•´ì‹œë§µ (Hash Map)</h2>
            <p>
                ì‚¬ë¬¼í•¨ 1000ê°œë¥¼ ì­‰ ë‚˜ì—´í•´ë†“ê³ , í‚¤(Key)ë¥¼ ë³´ê³  <strong>"ë„ˆëŠ” 305ë²ˆ ì‚¬ë¬¼í•¨ì— ë“¤ì–´ê°€!"</strong>ë¼ê³  ì •í•´ì£¼ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.<br>
                ë§Œì•½ 305ë²ˆì— ì´ë¯¸ ëˆ„ê°€ ìˆìœ¼ë©´? ê·¸ ì•ˆì— ë¦¬ìŠ¤íŠ¸ë¡œ ì¤„ì„ ì„¸ì›ë‹ˆë‹¤ (ì²´ì´ë‹).
            </p>

            <div class="visual-card" style="background: #fdfeff;">
                <div class="visual-label">í•´ì‹œë§µ ë™ì‘ ê³¼ì •</div>
                <div class="hash-diagram">
                    <div class="hash-bucket">
                        <div class="bucket-box">Key<br>"A"</div>
                        <div style="font-size: 12px; color: #94a3b8;">Hash()</div>
                        <i class="ph-bold ph-arrow-down" style="color: #cbd5e1;"></i>
                        <div class="bucket-box" style="border-color: var(--accent);">Idx<br>5</div>
                        <i class="ph-bold ph-arrow-down" style="color: var(--accent);"></i>
                        <div class="data-box">Value: "Apple"</div>
                    </div>
                    <div style="width: 1px; background: #e2e8f0; height: 150px;"></div>
                    <div class="hash-bucket">
                        <div class="bucket-box">Key<br>"B"</div>
                        <div style="font-size: 12px; color: #94a3b8;">Hash()</div>
                        <i class="ph-bold ph-arrow-down" style="color: #cbd5e1;"></i>
                        <div class="bucket-box" style="border-color: var(--accent);">Idx<br>92</div>
                        <i class="ph-bold ph-arrow-down" style="color: var(--accent);"></i>
                        <div class="data-box">Value: "Banana"</div>
                    </div>
                </div>
            </div>

            <div class="code-wrapper">
                <div class="code-header">
                    <div class="dot red"></div>
                    <div class="dot yellow"></div>
                    <div class="dot green"></div>
                    <span
                        style="margin-left: 10px; font-size: 0.8rem; color: #64748b; font-weight: bold;">hash_map.py</span>
                </div>
                <pre><code><span class="k">class</span> <span class="cls">HashMap</span>:
    <span class="k">def</span> <span class="f">__init__</span>(<span class="n">self</span>, <span class="n">size</span>=<span class="n">1024</span>):
        <span class="n">self</span>.size = <span class="n">size</span>
        <span class="c"># ë¹ˆ ë¦¬ìŠ¤íŠ¸(ì‚¬ë¬¼í•¨)ë¥¼ 1024ê°œ ë§Œë“­ë‹ˆë‹¤.</span>
        <span class="n">self</span>.buckets = [<span class="s">[]</span> <span class="k">for</span> <span class="n">_</span> <span class="k">in</span> <span class="f">range</span>(<span class="n">size</span>)]

    <span class="k">def</span> <span class="f">_hash</span>(<span class="n">self</span>, <span class="n">key</span>):
        <span class="c"># ë¬¸ìì—´ í‚¤ë¥¼ ìˆ«ìë¡œ ë°”ê¿‰ë‹ˆë‹¤. (ì•„ìŠ¤í‚¤ ì½”ë“œ í•©ê³„ % ì‚¬ì´ì¦ˆ)</span>
        <span class="k">return</span> <span class="f">sum</span>(<span class="f">ord</span>(<span class="n">char</span>) <span class="k">for</span> <span class="n">char</span> <span class="k">in</span> <span class="n">key</span>) % <span class="n">self</span>.size

    <span class="k">def</span> <span class="f">put</span>(<span class="n">self</span>, <span class="n">key</span>, <span class="n">value</span>):
        <span class="n">index</span> = <span class="n">self</span>._hash(<span class="n">key</span>)
        <span class="n">bucket</span> = <span class="n">self</span>.buckets[<span class="n">index</span>]
        
        <span class="c"># ì´ë¯¸ ê°™ì€ í‚¤ê°€ ìˆìœ¼ë©´ ê°’ë§Œ ë°”ê¿”ì¤ë‹ˆë‹¤ (Update)</span>
        <span class="k">for</span> <span class="n">i</span>, (<span class="n">k</span>, <span class="n">v</span>) <span class="k">in</span> <span class="f">enumerate</span>(<span class="n">bucket</span>):
            <span class="k">if</span> <span class="n">k</span> == <span class="n">key</span>:
                <span class="n">bucket</span>[<span class="n">i</span>] = (<span class="n">key</span>, <span class="n">value</span>)
                <span class="k">return</span>
        
        <span class="c"># ì—†ìœ¼ë©´ ìƒˆë¡œ ë„£ìŠµë‹ˆë‹¤ (Append)</span>
        <span class="n">bucket</span>.append((<span class="n">key</span>, <span class="n">value</span>))

    <span class="k">def</span> <span class="f">get</span>(<span class="n">self</span>, <span class="n">key</span>):
        <span class="n">index</span> = <span class="n">self</span>._hash(<span class="n">key</span>)
        <span class="n">bucket</span> = <span class="n">self</span>.buckets[<span class="n">index</span>]
        <span class="k">for</span> <span class="n">k</span>, <span class="n">v</span> <span class="k">in</span> <span class="n">bucket</span>:
            <span class="k">if</span> <span class="n">k</span> == <span class="n">key</span>:
                <span class="k">return</span> <span class="n">v</span>
        <span class="k">return</span> <span class="k">None</span></code></pre>
            </div>

            <div class="expl-box">
                <div class="expl-item">
                    <span class="line-num">_hash</span>
                    <span><strong>ë§ˆë²•ì˜ ë³€í™˜ê¸°:</strong> "apple" ê°™ì€ ê¸€ìë¥¼ 305 ê°™ì€ ìˆ«ìë¡œ ë°”ê¿”ì¤ë‹ˆë‹¤. í•­ìƒ ê°™ì€ ê¸€ìëŠ” ê°™ì€ ìˆ«ìê°€ ë‚˜ì™€ì•¼ í•©ë‹ˆë‹¤.</span>
                </div>
                <div class="expl-item">
                    <span class="line-num">buckets</span>
                    <span><strong>ì¶©ëŒ í•´ê²°(Chaining):</strong> ë§Œì•½ "apple"ë„ 305ë²ˆ, "bus"ë„ 305ë²ˆì´ë¼ë©´? 305ë²ˆ ì¹¸ ì•ˆì— ì‘ì€ ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ì–´ ë‘˜ ë‹¤
                        ë³´ê´€í•©ë‹ˆë‹¤.</span>
                </div>
            </div>
        </section>

        <!-- ì„¹ì…˜ 5: í™ -->
        <section id="heap">
            <h2>ìµœì†Œ í™ (Min Heap)</h2>
            <p>
                TTL(ë§Œë£Œ ì‹œê°„)ì„ ê´€ë¦¬í•˜ëŠ” <strong>ì•ŒëŒ ì‹œê³„</strong>ì…ë‹ˆë‹¤.<br>
                "ê°€ì¥ ë¹¨ë¦¬ ìš¸ë¦´ ì•ŒëŒ"ì´ í•­ìƒ ë§¨ ìœ„ì— ìˆì–´ì„œ, O(1)ë¡œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            </p>

            <div class="visual-card">
                <div class="visual-label">í™ êµ¬ì¡° (ì™„ì „ ì´ì§„ íŠ¸ë¦¬)</div>
                <div style="font-family: 'JetBrains Mono'; font-size: 0.9rem;">
<pre style="background: transparent; text-align: center; line-height: 1.8;">
        <span style="background: var(--primary); color: white; padding: 8px 16px; border-radius: 8px;">(10, "key1")</span>  â† ê°€ì¥ ë¹¨ë¦¬ ë§Œë£Œ!
           /            \
  <span style="background: var(--accent-light); padding: 6px 12px; border-radius: 8px;">(20, "key2")</span>    <span style="background: var(--accent-light); padding: 6px 12px; border-radius: 8px;">(30, "key3")</span>
</pre>
                </div>
                <p style="margin-top: 20px; font-size: 0.95rem; color: var(--text-sub);">
                    ë¶€ëª¨ëŠ” í•­ìƒ ìì‹ë³´ë‹¤ ì‘ìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ë£¨íŠ¸(ë§¨ ìœ„)ê°€ í•­ìƒ ìµœì†Ÿê°’!
                </p>
            </div>

            <div class="code-wrapper">
                <div class="code-header">
                    <div class="dot red"></div><div class="dot yellow"></div><div class="dot green"></div>
                    <span style="margin-left: 10px; font-size: 0.8rem; color: #64748b; font-weight: bold;">heap.py</span>
                </div>
<pre><code><span class="k">class</span> <span class="cls">MinHeap</span>:
    <span class="k">def</span> <span class="f">__init__</span>(<span class="n">self</span>):
        <span class="n">self</span>._data = []  <span class="c"># ë°°ì—´ë¡œ íŠ¸ë¦¬ í‘œí˜„</span>

    <span class="k">def</span> <span class="f">push</span>(<span class="n">self</span>, <span class="n">item</span>):
        <span class="c"># ë§¨ ë’¤ì— ë„£ê³ , ë¶€ëª¨ì™€ ë¹„êµí•˜ë©° ì˜¬ë¼ê°</span>
        <span class="n">self</span>._data.append(<span class="n">item</span>)
        <span class="n">self</span>._heapify_up(<span class="f">len</span>(<span class="n">self</span>._data) - <span class="n">1</span>)

    <span class="k">def</span> <span class="f">pop</span>(<span class="n">self</span>):
        <span class="c"># ë£¨íŠ¸(ìµœì†Ÿê°’) ì œê±°, ë§ˆì§€ë§‰ì„ ë£¨íŠ¸ë¡œ ì˜¬ë¦¬ê³  ë‚´ë ¤ê°</span>
        <span class="k">if</span> <span class="k">not</span> <span class="n">self</span>._data: <span class="k">return</span> <span class="k">None</span>
        <span class="n">result</span> = <span class="n">self</span>._data[<span class="n">0</span>]
        <span class="n">last</span> = <span class="n">self</span>._data.pop()
        <span class="k">if</span> <span class="n">self</span>._data:
            <span class="n">self</span>._data[<span class="n">0</span>] = <span class="n">last</span>
            <span class="n">self</span>._heapify_down(<span class="n">0</span>)
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="f">peek</span>(<span class="n">self</span>):
        <span class="c"># ìµœì†Ÿê°’ í™•ì¸ (ì œê±° ì•ˆí•¨)</span>
        <span class="k">return</span> <span class="n">self</span>._data[<span class="n">0</span>] <span class="k">if</span> <span class="n">self</span>._data <span class="k">else</span> <span class="k">None</span></code></pre>
            </div>

            <div class="expl-box">
                <div class="expl-item">
                    <span class="line-num">_heapify_up</span>
                    <span><strong>ìœ„ë¡œ ì˜¬ë¼ê°€ê¸°:</strong> ìƒˆ ì›ì†Œê°€ ë¶€ëª¨ë³´ë‹¤ ì‘ìœ¼ë©´ ìë¦¬ë¥¼ ë°”ê¿”ê°€ë©° ì˜¬ë¼ê°‘ë‹ˆë‹¤.</span>
                </div>
                <div class="expl-item">
                    <span class="line-num">_heapify_down</span>
                    <span><strong>ì•„ë˜ë¡œ ë‚´ë ¤ê°€ê¸°:</strong> ë£¨íŠ¸ê°€ ìì‹ë³´ë‹¤ í¬ë©´ ë” ì‘ì€ ìì‹ê³¼ êµí™˜í•˜ë©° ë‚´ë ¤ê°‘ë‹ˆë‹¤.</span>
                </div>
                <div class="expl-item">
                    <span class="line-num">TTL ìš©ë„</span>
                    <span><strong>(ë§Œë£Œì‹œê°„, í‚¤)</strong> í˜•íƒœë¡œ ì €ì¥í•˜ë©´, ê°€ì¥ ë¹¨ë¦¬ ë§Œë£Œë˜ëŠ” í‚¤ë¥¼ O(1)ë¡œ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤!</span>
                </div>
            </div>
        </section>

        <!-- ì„¹ì…˜ 6: Mini Redis ì¡°ë¦½ -->
        <section id="miniredis">
            <h2>ì¡°ë¦½í•˜ê¸°: Mini Redis</h2>
            <p>
                ì´ì œ ìœ„ì—ì„œ ë§Œë“  ë¶€í’ˆë“¤ì„ í•©ì²´í•  ì‹œê°„ì…ë‹ˆë‹¤.<br>
                <strong>HashMap</strong>(ë¹ ë¥¸ ì¡°íšŒ) + <strong>DoublyLinkedList</strong>(LRU ìˆœì„œ) + <strong>MinHeap</strong>(TTL ê´€ë¦¬)!
            </p>

            <div class="code-wrapper">
                <div class="code-header">
                    <div class="dot red"></div>
                    <div class="dot yellow"></div>
                    <div class="dot green"></div>
                    <span
                        style="margin-left: 10px; font-size: 0.8rem; color: #64748b; font-weight: bold;">mini_redis.py</span>
                </div>
                <pre><code><span class="k">class</span> <span class="cls">MiniRedis</span>:
    <span class="k">def</span> <span class="f">__init__</span>(<span class="n">self</span>, <span class="n">max_memory</span>):
        <span class="n">self</span>.max_memory = <span class="n">max_memory</span>
        <span class="n">self</span>.cache_map = {}            <span class="c"># ìœ„ì¹˜ ì°¾ê¸°ìš© (HashMap)</span>
        <span class="n">self</span>.lru_list = <span class="cls">DoublyLinkedList</span>() <span class="c"># ìˆœì„œ ê´€ë¦¬ìš©</span>

    <span class="k">def</span> <span class="f">get</span>(<span class="n">self</span>, <span class="n">key</span>):
        <span class="k">if</span> <span class="n">key</span> <span class="k">not in</span> <span class="n">self</span>.cache_map:
            <span class="k">return</span> <span class="s">"(nil)"</span>
        
        <span class="c"># 1. ë°ì´í„°ë¥¼ ì°¾ìŠµë‹ˆë‹¤.</span>
        <span class="n">node</span> = <span class="n">self</span>.cache_map[<span class="n">key</span>]
        
        <span class="c"># 2. ë°©ê¸ˆ ì¼ìœ¼ë‹ˆ 'ê°€ì¥ ìµœì‹ ' ìœ„ì¹˜(ë§¨ ì•)ë¡œ ì˜®ê¹ë‹ˆë‹¤. (LRU í•µì‹¬)</span>
        <span class="n">self</span>.lru_list.move_to_front(<span class="n">node</span>)
        
        <span class="k">return</span> <span class="n">node</span>.value

    <span class="k">def</span> <span class="f">set</span>(<span class="n">self</span>, <span class="n">key</span>, <span class="n">value</span>):
        <span class="c"># ì´ë¯¸ ìˆëŠ” í‚¤ë¼ë©´? ê°’ë§Œ ë°”ê¾¸ê³  ìµœì‹ ìœ¼ë¡œ ê°±ì‹ </span>
        <span class="k">if</span> <span class="n">key</span> <span class="k">in</span> <span class="n">self</span>.cache_map:
            <span class="n">node</span> = <span class="n">self</span>.cache_map[<span class="n">key</span>]
            <span class="n">node</span>.value = <span class="n">value</span>
            <span class="n">self</span>.lru_list.move_to_front(<span class="n">node</span>)
            <span class="k">return</span> <span class="s">"OK"</span>

        <span class="c"># ê½‰ ì°¼ë‚˜ìš”? ê·¸ëŸ¼ ì œì¼ ì˜¤ë˜ëœ ë…€ì„ì„ ì«“ì•„ëƒ…ë‹ˆë‹¤.</span>
        <span class="k">if</span> <span class="f">len</span>(<span class="n">self</span>.cache_map) >= <span class="n">self</span>.max_memory:
            <span class="n">removed_node</span> = <span class="n">self</span>.lru_list.remove_last() <span class="c"># ë¦¬ìŠ¤íŠ¸ ê¼¬ë¦¬ ìë¥´ê¸°</span>
            <span class="k">if</span> <span class="n">removed_node</span>:
                <span class="k">del</span> <span class="n">self</span>.cache_map[<span class="n">removed_node</span>.key]   <span class="c"># ë§µì—ì„œë„ ì‚­ì œ</span>

        <span class="c"># ìƒˆ ë°ì´í„° ì¶”ê°€</span>
        <span class="n">new_node</span> = <span class="cls">Node</span>(<span class="n">key</span>, <span class="n">value</span>)
        <span class="n">self</span>.lru_list.add_to_front(<span class="n">new_node</span>)
        <span class="n">self</span>.cache_map[<span class="n">key</span>] = <span class="n">new_node</span>
        <span class="k">return</span> <span class="s">"OK"</span></code></pre>
            </div>

            <div class="expl-box">
                <div class="expl-item">
                    <span class="line-num">get()</span>
                    <span>ì¡°íšŒë§Œ í–ˆëŠ”ë°ë„ <code>move_to_front</code>ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤. ì™œëƒí•˜ë©´ "ì¡°íšŒí–ˆë‹¤"ëŠ” ê²ƒë„ "ì‚¬ìš©í–ˆë‹¤"ëŠ” ëœ»ì´ê¸° ë•Œë¬¸ì—, ì‚­ì œ ìˆœìœ„ì—ì„œ
                        ë°€ë ¤ë‚˜ì•¼(ìƒì¡´í•´ì•¼) í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</span>
                </div>
                <div class="expl-item">
                    <span class="line-num">set()</span>
                    <span>ë°ì´í„°ë¥¼ ë„£ì„ ë•Œ ê³µê°„ì´ ë¶€ì¡±í•˜ë©´ <code>remove_last()</code>ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤. ì´ê²Œ ë°”ë¡œ LRU(Least Recently Used) ì •ì±…ì˜
                        êµ¬í˜„ì…ë‹ˆë‹¤.</span>
                </div>
            </div>
        </section>

        <!-- ì„¹ì…˜ 6: CLI -->
        <section id="cli">
            <h2>ì‹¤í–‰í•˜ê¸° (CLI)</h2>
            <p>
                ì´ì œ ì‚¬ìš©ìì˜ ëª…ë ¹ì„ ë°›ì•„ì¤„ ì¸í„°í˜ì´ìŠ¤ì…ë‹ˆë‹¤.<br>
                ë¬´í•œ ë°˜ë³µë¬¸(While True)ì„ ëŒë©´ì„œ ì…ë ¥ì„ ê¸°ë‹¤ë¦½ë‹ˆë‹¤.
            </p>

            <div class="code-wrapper">
                <div class="code-header">
                    <div class="dot red"></div>
                    <div class="dot yellow"></div>
                    <div class="dot green"></div>
                    <span
                        style="margin-left: 10px; font-size: 0.8rem; color: #64748b; font-weight: bold;">main.py</span>
                </div>
                <pre><code><span class="k">def</span> <span class="f">run_cli</span>():
    <span class="c"># ë©”ëª¨ë¦¬ í¬ê¸°ë¥¼ 3ê°œë¡œ ì œí•œí•´ë´…ì‹œë‹¤. (3ê°œ ë„˜ìœ¼ë©´ ìë™ ì‚­ì œë¨)</span>
    <span class="n">redis</span> = <span class="cls">MiniRedis</span>(<span class="n">max_memory</span>=<span class="n">3</span>)
    
    <span class="f">print</span>(<span class="s">"ğŸ“ Mini Redis ì‹œì‘! (ì¢…ë£Œí•˜ë ¤ë©´ 'exit')"</span>)
    
    <span class="k">while</span> <span class="k">True</span>:
        <span class="k">try</span>:
            <span class="c"># ì‚¬ìš©ì ì…ë ¥ ë°›ê¸°</span>
            <span class="n">command</span> = <span class="f">input</span>(<span class="s">"mini-redis> "</span>).strip().split()
            <span class="k">if</span> <span class="k">not</span> <span class="n">command</span>: <span class="k">continue</span>
            
            <span class="n">cmd</span> = <span class="n">command</span>[<span class="n">0</span>].upper()
            
            <span class="k">if</span> <span class="n">cmd</span> == <span class="s">"EXIT"</span>:
                <span class="f">print</span>(<span class="s">"ì•ˆë…•íˆ ê°€ì„¸ìš”!"</span>)
                <span class="k">break</span>
            <span class="k">elif</span> <span class="n">cmd</span> == <span class="s">"SET"</span>:
                <span class="f">print</span>(<span class="n">redis</span>.set(<span class="n">command</span>[<span class="n">1</span>], <span class="n">command</span>[<span class="n">2</span>]))
            <span class="k">elif</span> <span class="n">cmd</span> == <span class="s">"GET"</span>:
                <span class="f">print</span>(<span class="n">redis</span>.get(<span class="n">command</span>[<span class="n">1</span>]))
            <span class="k">else</span>:
                <span class="f">print</span>(<span class="s">"(error) ëª¨ë¥´ëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤."</span>)
                
        <span class="k">except</span> <span class="cls">Exception</span> <span class="k">as</span> <span class="n">e</span>:
            <span class="f">print</span>(<span class="s">f"(error) {e}"</span>)

<span class="k">if</span> <span class="n">__name__</span> == <span class="s">"__main__"</span>:
    <span class="f">run_cli</span>()</code></pre>
            </div>

            <div class="tip"
                style="border-left-color: var(--accent); background: linear-gradient(135deg, #e0e7ff 0%, #fff 100%);">
                <div class="tip-title" style="color: var(--accent);"><i class="ph-fill ph-rocket-launch"></i> í…ŒìŠ¤íŠ¸ í•´ë³´ê¸°
                </div>
                <p style="margin:0; font-size: 0.95rem;">
                    1. ìœ„ ì½”ë“œë¥¼ ëª¨ë‘ ë³µì‚¬í•´ì„œ íŒŒì´ì¬ íŒŒì¼ë¡œ ì €ì¥í•˜ì„¸ìš”.<br>
                    2. ì‹¤í–‰ í›„ <code>SET A 1</code>, <code>SET B 2</code>, <code>SET C 3</code>, <code>SET D 4</code>ë¥¼ ìˆœì„œëŒ€ë¡œ
                    ì…ë ¥í•´ë³´ì„¸ìš”.<br>
                    3. <code>GET A</code>ë¥¼ í–ˆì„ ë•Œ <code>(nil)</code>ì´ ë‚˜ì˜¤ë©´ ì„±ê³µ! (3ê°œ ì œí•œì´ë¼ Aê°€ ì‚­ì œë¨)
                </p>
            </div>
        </section>

    </main>

    <script>
        // ìŠ¤í¬ë¡¤ ì‹œ ëª©ì°¨ í™œì„±í™”
        const navLinks = document.querySelectorAll('.toc a');
        const sections = document.querySelectorAll('section');

        window.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                if (pageYOffset >= sectionTop - 150) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href').includes(current)) {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>

</html>